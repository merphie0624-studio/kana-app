<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>靠岸｜彼岸の島</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <main id="app" class="app">

    <!-- INTRO -->
    <section id="view-intro" class="view hidden" aria-label="迎接">
      <div class="intro-stage">
        <div class="paper intro fade-in">
          <pre class="intro-text">有些地方，
或許不想要被找到。

只是有時，
走久了，
累了，
就自然會出現。

這不是終點，
也不是答案。

只是讓我
可以稍微停下來，
歇腳的地方。

如果我願意，
可以先靠岸。</pre>
          <button id="btn-into" class="btn primary" type="button">靠岸</button>
        </div>

        <!-- boat overlay (淡淡就好) -->
        <div id="boat-layer" class="boat-layer hidden" aria-hidden="true">
          <div class="boat-water"></div>
          <img class="boat" src="assets/boat.svg" alt="" />
        </div>
      </div>
    </section>

    <!-- TODAY -->
    <section id="view-today" class="view hidden" aria-label="靠岸">
      <header class="topbar">
        <div class="brand">
          <div class="brand-title">靠岸</div>
          <div class="brand-sub">彼岸の島</div>
        </div>

        <nav class="nav desktop-nav">
          <button class="btn ghost" id="nav-today" type="button" aria-current="page">今天</button>
          <button class="btn ghost" id="nav-wall" type="button">我的故事牆</button>
          <button class="btn ghost" id="nav-about" type="button">關於</button>
        </nav>

        <button class="icon-btn burger mobile-only" id="burger" type="button" aria-label="選單">☰</button>
      </header>

      <!-- mobile drawer -->
      <div id="drawer" class="drawer hidden" aria-hidden="true">
        <div class="drawer-panel">
          <div class="drawer-title">靠岸｜彼岸の島</div>
          <button class="btn ghost drawer-item" data-go="today" type="button">今天</button>
          <button class="btn ghost drawer-item" data-go="wall" type="button">我的故事牆</button>
          <button class="btn ghost drawer-item" data-go="about" type="button">關於</button>
          <button class="btn drawer-close" id="drawer-close" type="button">關閉</button>
        </div>
        <div class="drawer-backdrop" id="drawer-backdrop"></div>
      </div>

      <div class="panel">
        <h1 class="question">今天的我，想被接住什麼？</h1>
        <p class="hint">你可以抽一張卡，或先在這裡停一下。</p>

        <!-- series hint chips -->
        <div class="series-row" aria-label="系列說明">
          <div class="series-chip">
            <div class="series-name">Flow</div>
            <div class="series-desc">流動・訊息</div>
          </div>
          <div class="series-chip">
            <div class="series-name">Free</div>
            <div class="series-desc">自由・放下</div>
          </div>
          <div class="series-chip">
            <div class="series-name">For</div>
            <div class="series-desc">收與放・來與往</div>
          </div>
          <div class="series-chip muted">
            <div class="series-name">Forever</div>
            <div class="series-desc">即將靠岸</div>
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="draw-any" type="button">抽一張卡</button>
          <div class="seg" id="series-buttons">
            <!-- 你不想看到「抽 Flow/抽 Free」：我保留資料屬性但不顯示字眼 -->
            <button class="btn" data-draw-series="flow" type="button">Flow</button>
            <button class="btn" data-draw-series="free" type="button">Free</button>
            <button class="btn" data-draw-series="for" type="button">For</button>
          </div>
        </div>

        <!-- result -->
        <section id="today-result" class="result hidden" aria-label="抽到的卡">
          <div class="card-wrap">
            <img id="today-img" class="card-img" alt="抽到的卡片" />
            <div class="gold-tree-watermark" aria-hidden="true"></div>
          </div>

          <div class="meta-row">
            <div id="today-meta" class="meta"></div>
          </div>

          <!-- 這排要「抽完等一下才浮現」 -->
          <div id="result-actions" class="result-actions hidden" aria-label="後續操作">
            <button class="btn" id="btn-save-note" type="button">回饋這張卡</button>
            <button class="btn ghost" id="btn-open-wall" type="button">我的故事牆</button>
            <button class="btn ghost" id="btn-draw-again" type="button">再一次相遇</button>
          </div>
        </section>

        <div id="toast" class="toast hidden" role="status" aria-live="polite"></div>
      </div>
    </section>

    <!-- WALL -->
    <section id="view-wall" class="view hidden" aria-label="我的故事牆">
      <header class="topbar">
        <div class="brand">
          <div class="brand-title">我的故事牆</div>
          <div class="brand-sub">收集・歸位</div>
        </div>

        <nav class="nav desktop-nav">
          <button class="btn ghost" id="nav2-today" type="button">今天</button>
          <button class="btn ghost" id="nav2-wall" type="button" aria-current="page">我的故事牆</button>
          <button class="btn ghost" id="nav2-about" type="button">關於</button>
        </nav>

        <button class="icon-btn burger mobile-only" id="burger2" type="button" aria-label="選單">☰</button>
      </header>

      <div class="panel scroll-panel">
        <div class="tabs" role="tablist" aria-label="系列">
          <button class="tab active" data-tab="all" type="button" role="tab" aria-selected="true">全部</button>
          <button class="tab" data-tab="flow" type="button" role="tab">Flow</button>
          <button class="tab" data-tab="free" type="button" role="tab">Free</button>
          <button class="tab" data-tab="for" type="button" role="tab">For</button>
        </div>

        <div class="stats" id="stats"></div>
        <div id="grid" class="grid" aria-label="卡片列表"></div>
      </div>

      <!-- modal -->
      <div id="modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="卡片">
        <div class="modal-card">
          <button id="modal-close" class="icon-btn" type="button" aria-label="關閉">✕</button>

          <div class="modal-body">
            <div class="card-wrap">
              <img id="modal-img" class="card-img" alt="卡片" />
              <div class="gold-tree-watermark" aria-hidden="true"></div>
            </div>

            <div class="record">
              <div class="record-head">
                <div class="record-title">寫下</div>
                <div class="record-sub">也可以留白。有時留白，是另一種溫柔。</div>
              </div>

              <div id="record-locked" class="locked hidden">
                這張卡還沒被抽到。<br/>
                你可以先把它放在心裡，或回到「今天」再抽一次。
              </div>

              <div id="record-form" class="record-form hidden">
                <div class="field">
                  <div class="label">情緒小符號</div>
                  <div class="emoji-row" id="emoji-row">
                    <button class="emoji-btn" data-emoji="🙂" type="button">🙂</button>
                    <button class="emoji-btn" data-emoji="🥲" type="button">🥲</button>
                    <button class="emoji-btn" data-emoji="😌" type="button">😌</button>
                    <button class="emoji-btn" data-emoji="💛" type="button">💛</button>
                    <button class="emoji-btn" data-emoji="🫶" type="button">🫶</button>
                  </div>
                </div>

                <label class="field">
                  <div class="label">文字</div>
                  <textarea id="note-text" rows="5" placeholder="今天的感受、感恩的人事物、顯化的小確幸…"></textarea>
                </label>

                <label class="field">
                  <div class="label">照片（可選）</div>
                  <input id="photo-input" type="file" accept="image/*" />
                  <div class="small">會自動縮小後存放在你的裝置上（不會上傳到網路）。</div>
                </label>

                <div id="photo-preview-wrap" class="photo hidden">
                  <img id="photo-preview" alt="照片預覽" />
                  <button id="photo-remove" class="btn ghost" type="button">移除照片</button>
                </div>

                <div class="row">
                  <button id="note-save" class="btn primary" type="button">保存</button>
                  <button id="note-clear" class="btn" type="button">清除這張卡的內容</button>
                </div>

                <div class="small" id="note-meta"></div>
              </div>
            </div>

          </div>
        </div>

        <div class="backdrop" id="modal-backdrop"></div>
      </div>
    </section>

    <!-- ABOUT -->
    <section id="view-about" class="view hidden" aria-label="關於">
      <header class="topbar">
        <div class="brand">
          <div class="brand-title">關於</div>
          <div class="brand-sub">靠岸｜彼岸の島</div>
        </div>

        <nav class="nav desktop-nav">
          <button class="btn ghost" id="nav3-today" type="button">今天</button>
          <button class="btn ghost" id="nav3-wall" type="button">我的故事牆</button>
          <button class="btn ghost" id="nav3-about" type="button" aria-current="page">關於</button>
        </nav>

        <button class="icon-btn burger mobile-only" id="burger3" type="button" aria-label="選單">☰</button>
      </header>

      <div class="panel">
        <h2>這是一個很小的地方</h2>
        <p>你可以在這裡抽一張卡，慢慢收集，並在卡片裡寫下自己的紀錄。</p>
        <p class="small">所有內容都只會保存在你的裝置（瀏覽器）裡。清除瀏覽器資料會一起消失。</p>

        <hr class="sep" />

        <div class="row">
          <button id="reset-intro" class="btn" type="button">重看迎接畫面（只影響這台裝置）</button>
          <button id="export-data" class="btn ghost" type="button">匯出我的紀錄（JSON）</button>
          <label class="btn ghost" for="import-data" style="cursor:pointer;">匯入紀錄（JSON）</label>
          <input id="import-data" type="file" accept="application/json" class="hidden" />
        </div>

        <p class="small">匯出/匯入是為了之後換手機或備份用。初期先用簡單方式。</p>
      </div>
    </section>

  </main>

  <script src="app.js"></script>
</body>
</html>
